---
type Props = {
  title: string;
  description: string;
  icon: string;
  gradient?: "orange" | "lime" | "emerald";
  class?: string;
};

const {
  title,
  description,
  icon,
  gradient = "orange",
  class: className,
} = Astro.props;

const gradientClasses = {
  orange: "from-primary to-primary/50",
  lime: "from-accent to-accent/50",
  emerald: "from-secondary to-secondary/50",
};

// Icon mapping using inline SVGs (Lucide-style icons)
const icons: Record<string, string> = {
  brain: `<path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"/><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"/><path d="M3.477 10.896a4 4 0 0 1 .585-.396"/><path d="M19.938 10.5a4 4 0 0 1 .585.396"/><path d="M6 18a4 4 0 0 1-1.967-.516"/><path d="M19.967 17.484A4 4 0 0 1 18 18"/>`,
  "map-pin": `<path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/>`,
  smartphone: `<rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/>`,
  "bar-chart-2": `<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>`,
};
---

<div
  class:list={[
    "group relative p-6 rounded-lg border border-border bg-card gradient-border transition-all",
    className,
  ]}
>
  <!-- Gradient accent line at top -->
  <div
    class:list={[
      "absolute top-0 left-6 right-6 h-px bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity",
      gradientClasses[gradient],
    ]}
  >
  </div>

  <!-- Icon -->
  <div
    class="w-12 h-12 rounded-md border border-border bg-muted/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"
  >
    <svg
      class="w-6 h-6 text-foreground"
      fill="none"
      stroke="currentColor"
      stroke-width="1.5"
      stroke-linecap="round"
      stroke-linejoin="round"
      viewBox="0 0 24 24"
      set:html={icons[icon] || icons["brain"]}
    />
  </div>

  <!-- Content -->
  <h3 class="font-display font-semibold text-lg text-foreground mb-2">
    {title}
  </h3>
  <p class="text-sm text-muted-foreground leading-relaxed">
    {description}
  </p>
</div>
